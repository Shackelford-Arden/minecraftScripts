var exec = require('child_process').exec;
var puts = function(error, stdout, stderr){
   util.print(stdout);
};

var date = new Date();
var timestamp = (date.getMonth() + 1) + "/" + date.getDate()  + "/" +
                 date.getFullYear()   + " " + date.getHours() + ":" + 
                 date.getMinutes()    + ":" + date.getSeconds();



console.log("Script is running - " + timestamp);

function stopTheServer(){
   //stop the server
   exec("tmux send -t minecraftServer '/stop' ENTER", puts);
}

function backUp(){
   //back it up brah
   exec("tmux send -t minecraftServer 'find /home/ubuntu/minecraftBackups -mtime +7 -exec rm {} \;' ENTER", puts);

  //now move to the correct dir
  exec("tmux send -t minecraftServer 'cd /home/ubuntu/minecraftBackups' ENTER", puts);

  //and make a date var for the file name (I hope this works in .js :/
  exec("today=`date '+%Y_%m_%d_%H_%M'`;", puts);

  //a


//now wait to make sure it's got time to do it's thing (don't want it to freak out like it totally does sometimes)


